<!DOCTYPE html>
<html>
<head>
  <title>S3 Upload Test</title>
</head>
<body>
  <h2>S3 Pre-signed URL Upload Test</h2>
  <button id="uploadBtn">Upload Dummy JSON</button>
  <pre id="log"></pre>

  <script>
    const uploadUrl = "https://jaetill-game-nights.s3.us-east-1.amazonaws.com/gameNights.json?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIATD5ZASBEN3WXOFMW%2F20250619%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250619T041339Z&X-Amz-Expires=300&X-Amz-Signature=cf0a0746d7149b6b5ffdcaf6c8b7b871385ef6378f15795eb019e23a2811109d&X-Amz-SignedHeaders=host&x-amz-checksum-crc32=AAAAAA%3D%3D&x-amz-sdk-checksum-algorithm=CRC32&x-id=PutObject";

    async function uploadToS3() {
      const log = document.getElementById("log");
      log.textContent = "Uploading...\n";

      try {
        const response = await fetch(uploadUrl, {
          method: "PUT",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({ test: "Hello from test page!" }),
          mode: "cors"
        });

        if (response.ok) {
          log.textContent += "✅ Upload succeeded!\n";
        } else {
          const errorText = await response.text();
          log.textContent += `❌ Upload failed: ${response.status}\n${errorText}`;
        }
      } catch (error) {
        log.textContent += `❌ Error: ${error.message}`;
      }
    }

    document.getElementById("uploadBtn").addEventListener("click", uploadToS3);
  </script>
</body>
</html>